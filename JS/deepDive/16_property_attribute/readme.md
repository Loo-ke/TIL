# 16 í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸
## 16.1 ë‚´ë¶€ ìŠ¬ë¡¯ê³¼ ë‚´ë¶€ ë©”ì„œë“œ
- ë‚´ë¶€ ìŠ¬ë¡¯ & ë‚´ë¶€ ë©”ì„œë“œ ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì—ì„œ ì‹¤ì œë¡œ ë™ì‘ì€ í•˜ì§€ë§Œ ê°œë°œìê°€ ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ì™¸ë¶€ë¡œ ê³µê°œëœ ê°ì²´ì˜ í”„ë¡œí¼í‹°ëŠ” ì•„ë‹ˆë‹¤.
- ì¦‰, ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì˜ ë‚´ë¶€ ë¡œì§ ì´ë¯€ë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ì§ì ‘ ì ‘ê·¼í•˜ê±°ë‚˜ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œê³µí•˜ì§„ ì•ŠëŠ”ë‹¤.
- ë‹¨, ì¼ë¶€ ë‚´ë¶€ ìŠ¬ë¡¯ & ë©”ì„œë“œì— ëŒ€í•´ì„œëŠ” ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ìˆ˜ë‹¨ì„ ì œê³µí•œë‹¤.
  - ì˜ˆë¥¼ ë“¤ì–´ [[Prototype]] ë‚´ë¶€ ìŠ¬ë¡¯ì€ __proto__ ë¥¼ í†µí•´ ê°„ì ‘ ì ‘ê·¼ ê°€ëŠ¥

## 16.2 í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ & ë””ìŠ¤í¬ë¦½í„° ê°ì²´
- ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ í”„ë¡œí¼í‹°ë¥¼ ìƒì„±í•  ë•Œ í”„ë¡œí¼í‹°ì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” í”Œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ìë™ ì •ì˜í•œë‹¤.
- í”„ë¡œí¼í‹° ìƒíƒœ
  - í”„ë¡œí¼í‹°ì˜ ê°’( value )
  - ê°’ì˜ ê°±ì‹  ê°€ëŠ¥ ì—¬ë¶€( writable )
  - ì—´ê±° ê°€ëŠ¥ ì—¬ë¶€( enumerable )
  - ì •ì˜ ê°€ëŠ¥ ì—¬ë¶€( configurable )

- í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ì— ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ëŠ” ì—†ê³ , ê°„ì ‘ì ìœ¼ë¡œ í™•ì¸ ì€ í•  ìˆ˜ ìˆë‹¤.
```Object.getOwnPropertyDescriptor(ê°ì²´, í”„ë¡œí¼í‹° í‚¤)```
- ê°ì²´ : ê°ì²´ì˜ ì°¸ì¡°(Reference) ë¥¼ ì „ë‹¬
- í”„ë¡œí¼í‹° í‚¤ : ë¬¸ìì—´ or ì‹¬ë²Œì„ ì „ë‹¬
#### Javascript Property Descriptor Object
>Property Descriptor Object : í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” ê°ì²´

- ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í”„ë¡œí¼í‹°ë‚˜ ìƒì†ë°›ì€ í”„ë¡œí¼í‹°ì— ëŒ€í•œ í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„°ë¥¼ ìš”êµ¬í•˜ë©´ â†’ undefined ë°˜í™˜
- ê¸°ë³¸ì ìœ¼ë¡œ í•˜ë‚˜ì˜ í”„ë¡œí¼í‹°ì— ëŒ€í•´ í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„° ê°ì²´ë¥¼ ë°˜í™˜
  - ES8 ì— ëª¨ë“  í”„ë¡œí¼í‹°ì˜ í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„° ê°ì²´ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.
```Object.getOwnPropertyDescriptors(ê°ì²´);```

## 16.3 ë°ì´í„° í”„ë¡œí¼í‹°ì™€ ì ‘ê·¼ì í”„ë¡œí¼í‹°
>í”„ë¡œí¼í‹°ëŠ” ë°ì´í„° í”„ë¡œí¼í‹° ì™€ ì ‘ê·¼ì í”„ë¡œí¼í‹° ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.

#### ë°ì´í„° í”„ë¡œí¼í‹°
> ë°ì´í„° í”„ë¡œí¼í‹°(data property) : (key : value) ë¡œ êµ¬ì„±ëœ ì¼ë°˜ì ì¸ í”„ë¡œí¼í‹°

- ë°ì´í„° í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì´ í”„ë¡œí¼í‹°ë¥¼ ìƒì„±í•  ë•Œ ê¸°ë³¸ê°’ìœ¼ë¡œ ìë™ ì •ì˜ëœë‹¤.
#### ì ‘ê·¼ì í”„ë¡œí¼í‹°
- ì ‘ê·¼ì í”„ë¡œí¼í‹°(accessor property) : ìì²´ì ìœ¼ë¡œ ê°’ì„ ê°–ì§€ ì•Šê³  ë‹¤ë¥¸ ë°ì´í„° í”„ë¡œí¼í‹°ì˜ ê°’ì„ ì½ê±°ë‚˜ ì €ì¥í•  ë•Œ í˜¸ì¶œë˜ëŠ” ì ‘ê·¼ì í•¨ìˆ˜(accessor function) ë¡œ êµ¬ì„±ëœ í”„ë¡œí¼í‹°
-ì ‘ê·¼ì í•¨ìˆ˜ëŠ” getter / setter í•¨ìˆ˜ ë¼ê³ ë„ í•œë‹¤.
  - getter ì™€ setter ëŠ” ëª¨ë‘ ì •ì˜í•˜ê±°ë‚˜ í•˜ë‚˜ë§Œ ì •ì˜í•  ìˆ˜ë„ ìˆê³ , ì•„ì˜ˆ ì •ì˜ ì•ˆí•  ìˆ˜ë„ ìˆë‹¤.
```
const person = {
  firstName: "Youngmin",
  lastName: "WI",

  get fullName() {
    return `${this.firstName} ${this.lastName}`;
  },

  set fullName(name) {
    [this.firstName, this.lastName] = name.split(" ");
  },
};

// ë°ì´í„° í”„ë¡œí¼í‹°ë¥¼ í†µí•œ í”„ë¡œí¼í‹° ê°’ì˜ ì°¸ì¡°
console.log(person.firstName + " " + person.lastName); // Youngmin WI

// ì ‘ê·¼ì í”„ë¡œí¼í‹°ë¥¼ í†µí•œ í”„ë¡œí¼í‹° ê°’ì˜ ì €ì¥ ğŸ‘‰ setter í•¨ìˆ˜ í˜¸ì¶œ
person.fullName = "Youngmaaan WIE";
console.log(person); // { firstName: 'Youngmaaan', lastName: 'WIE', fullName: [Getter/Setter] }

// ì ‘ê·¼ì í”„ë¡œí¼í‹°ë¥¼ í†µí•œ í”„ë¡œí¼í‹° ê°’ì˜ ì°¸ì¡° ğŸ‘‰ getter í•¨ìˆ˜ í˜¸ì¶œ
console.log(person.fullName); // Youngmaaan WIE

// ë°ì´í„° í”„ë¡œí¼í‹°ëŠ” [[Value]], [[Writable]], [[Enumerable]], [[Configurable]] í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ê°–ëŠ”ë‹¤.
// í˜„ ì½”ë“œì—ì„œ "firstName" í”„ë¡œí¼í‹°ëŠ” "ë°ì´í„° í”„ë¡œí¼í‹°"ë‹¤.
let descriptor = Object.getOwnPropertyDescriptor(person, "firstName");
console.log(descriptor);
/*
{
  value: 'Youngmaaan',
  writable: true,
  enumerable: true,
  configurable: true
} 
*/

// ì ‘ê·¼ì í”„ë¡œí¼í‹°ëŠ” [[Get]], [[Set]], [[Enumerable]], [[Configurable]] í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ê°–ëŠ”ë‹¤.
// í˜„ ì½”ë“œì—ì„œ "fullName" í”„ë¡œí¼í‹°ëŠ” "ì ‘ê·¼ì í”„ë¡œí¼í‹°"ë‹¤.
descriptor = Object.getOwnPropertyDescriptor(person, "fullName");
console.log(descriptor);
/*
{
  get: [Function: get fullName],
  set: [Function: set fullName],
  enumerable: true,
  configurable: true
}
*/
```
## 16.4 í”„ë¡œí¼í‹°ì˜ ì •ì˜
>í”„ë¡œí¼í‹° ì •ì˜ : ìƒˆë¡œìš´ í”„ë¡œí¼í‹°ë¥¼ ì¶”ê°€í•˜ë©´ì„œ í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì •ì˜ í•˜ê±°ë‚˜, ê¸°ì¡´ í”„ë¡œí¼í‹°ì˜ í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ì¬ì •ì˜ í•˜ëŠ” ê²ƒì„ ì˜ë¯¸
- ê° í”„ë¡œí¼í‹°ì— ëŒ€í•´ ëª¨ë“  í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ì„¤ì •í•  í•„ìš”ëŠ” ì—†ë‹¤.
ì„¤ì •í•˜ì§€ ì•Šì„ ê²½ìš° default ë¡œ ì„¤ì •ë˜ëŠ” ê°’ë“¤ì´ ìˆë‹¤.

## 16.5 ê°ì²´ ë³€ê²½ ë°©ì§€
- ê°ì²´ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë³€ê²½ ê°€ëŠ¥í•œ ê°’(mutable value) ë¼ê³  í–ˆë‹¤.
- ì¦‰, ì¬í• ë‹¹ ì—†ì´ ì§ì ‘ ë³€ê²½í•  ìˆ˜ ìˆìŒì„ ì˜ë¯¸í•œë‹¤.
  - í”„ë¡œí¼í‹°ë¥¼ ì¶”ê°€, ì‚­ì œ, ê°’ ê°±ì‹  ëª¨ë‘ í•  ìˆ˜ ìˆë‹¤.
  - object.defineProperty or object.definePropertie ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ì¬ì •ì˜í•  ìˆ˜ë„ ìˆë‹¤.
- í•˜ì§€ë§Œ, ê°ì²´ë¥¼ ë³€ê²½í•˜ì§€ ë§ì•„ì•¼í•  ê²½ìš°ê°€ ì¡´ì¬í•˜ê³ , ì´ë¥¼ ì§€ì›í•˜ëŠ” ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤.
- ê° ë©”ì„œë“œë§ˆë‹¤ ì œí•œí•˜ëŠ” ê°•ë„ê°€ ë‹¤ë¥´ë‹¤.
- strict mode ì—ì„œ í—ˆìš©í•˜ì§€ ì•ŠëŠ” í”„ë¡œí¼í‹° ì œì–´ ë™ì‘ì— ëŒ€í•´ì„œëŠ” ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚´
- strict mode ê°€ ì•„ë‹Œ ê²½ìš° ì—ì„œëŠ” í•´ë‹¹ ëª…ë ¹ì„ ë¬´ì‹œí•œë‹¤.
### 16.5.1 ê°ì²´ í™•ì¥ ê¸ˆì§€
```
Object.preventExtensions(ê°ì²´);

// í™•ì¥ ê°€ëŠ¥í•œ ê°ì²´ì¸ì§€ íŒë‹¨ ì—¬ë¶€ ë©”ì„œë“œ -> boolean
Object.isExtensible(ê°ì²´);
```

### 16.5.2 ê°ì²´ ë°€ë´‰
```
Object.seal(ê°ì²´);

// ë°€ë´‰ëœ ê°ì²´ì¸ì§€ íŒë‹¨ ì—¬ë¶€ ë©”ì„œë“œ -> boolean
Object.isSealed(ê°ì²´);
```

### 16.5.3 ê°ì²´ ë™ê²°
```
Object.freeze(ê°ì²´);

// ë™ê²°ëœ ê°ì²´ì¸ì§€ íŒë‹¨ ì—¬ë¶€ ë©”ì„œë“œ -> boolean
Object.isFrozen(ê°ì²´);
```
### 16.5.4 ë¶ˆë©´ ê°ì²´
- ì•ì„œ í™•ì¸í•œ ê°ì²´ ë³€ê²½ ë°©ì§€ ë©”ì„œë“œë“¤ì€ ëª¨ë‘ ì–•ì€(Shallow) ë³€ê²½ ë°©ì§€ ë¡œ ì§ì† í”„ë¡œí¼í‹°ë§Œ ë³€ê²½ì´ ë°©ì§€ëœë‹¤.
- ì¦‰, ì¤‘ì ‘ ê°ì²´ê¹Œì§€ëŠ” ì˜í–¥ì„ ì¤„ ìˆ˜ ì—†ë‹¤.
- ë”°ë¼ì„œ, í•œë²ˆì˜ Object.freeze ë©”ì„œë“œ ë¡œ ê°ì²´ë¥¼ ë™ê²°í•˜ì—¬ë„ ì¤‘ì²© ê°ì²´ê¹Œì§€ ë™ê²°í•  ìˆ˜ëŠ” ì—†ë‹¤.
- ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ê°ì²´ë¥¼ ê°’ìœ¼ë¡œ ê°–ëŠ” ëª¨ë“  í”„ë¡œí¼í‹° ì— ì¬ê·€(recursive) ë¡œ Object.freeze ë©”ì„œë“œë¥¼ ì ìš© í•œë‹¤.

```
// ğŸ’© ì¤‘ì²© ê°ì²´ê°€ ìˆëŠ” ìƒí™©ì—ì„œ ì–•ì€ ê°ì²´ ë³€ê²½ ë°©ì§€(Shallow)
const person = {
  name: "WI",
  age: 100,
  address: {
    city: "Incheon",
  },
};

Object.freeze(person);
console.log(Object.isFrozen(person)); // true
console.log(Object.isFrozen(person.address)); // false << ğŸ” ì¤‘ì²©ëœ address í”„ë¡œí¼í‹°ì— ëŒ€í•´ì„œëŠ” freeze ë˜ì§€ ì•Šì•˜ë‹¤.

person.address.city = "Seoul";
console.log(person); // { name: 'WI', age: 100, address: { city: 'Seoul' } } << ğŸ” í”„ë¡œí¼í‹° ê°’ì´ ê°±ì‹ ë˜ì—ˆë‹¤.

// ğŸ‘ ê¹Šì€ ê°ì²´ ë³€ê²½ ë°©ì§€(Deep)
function deepFreezen(target) {
  if (target && typeof target === "object" && !Object.isFrozen(target)) {
    // ì¼ë‹¨ í˜„ì¬ ë“¤ì–´ì˜¨ ê°ì²´ë¥¼ ë™ê²°ì‹œí‚¤ê³ 
    Object.freeze(target);

    // ë‚´ë¶€ì— ìˆëŠ” ë‹¤ë¥¸ í”„ë¡œí¼í‹° ì¤‘, ì¤‘ì²© ê°ì²´ë“¤ì„ ê³ ë ¤í•œ deepFrozen í•¨ìˆ˜ ì¬ê·€ì‹¤í–‰
    // Object.keys ë©”ì„œë“œ = ê°ì²´ ìì‹ ì˜ í‚¤ë“¤ì— ëŒ€í•´ ì—´ê±°ê°€ëŠ¥í•œ(enumerable) í˜•íƒœì˜ ë°°ì—´ì„ ë°˜í™˜
    Object.keys(target).forEach((key) => deepFreezen(target[key]));
  }
}

const person = {
  name: "WI",
  age: 100,
  address: {
    city: "Incheon",
  },
};

deepFreezen(person);

console.log(Object.isFrozen(person)); // true
console.log(Object.isFrozen(person.address)); // true << ğŸ” ê¹Šì€ ê°ì²´ ë³€ê²½ ë°©ì§€ë¥¼ í†µí•´, ì¤‘ì ‘ëœ ê°ì²´ì— ëŒ€í•´ì„œë„ ë™ê²°ë˜ì—ˆë‹¤.

person.address.city = "Seoul";
console.log(person); // { name: 'WI', age: 100, address: { city: 'Incheon' } } << ğŸ” ë•ë¶„ì— ì¤‘ì ‘ ê°ì²´ì˜ í”„ë¡œí¼í‹° ê°’ë„ ê°±ì‹ ë˜ì§€ ì•Šê²Œ ë˜ì—ˆë‹¤.
```